<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Gopherbot IDE - Gopherbot DevOps Chatbot</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Gopherbot DevOps Chatbot</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="the-gopherbot-ide"><a class="header" href="#the-gopherbot-ide">The Gopherbot IDE</a></h1>
<p>Starting with version 2.6, the <strong>Gopherbot</strong> CI/CD pipelines are configured to create a pre-built development container with a daily snapshot of the most current code. This container is very large, &gt;2G, but the base is built weekly to pick up the latest security updates, and includes the following bundled software:</p>
<ul>
<li>A Debian base image with Ruby and Python3 (and other requirements)</li>
<li>The most recent release of <a href="https://go.dev/dl">Go</a></li>
<li>The most recent release of <a href="https://github.com/gitpod-io/openvscode-server">OpenVSCode Server</a></li>
<li>Pre-installed OpenVSCode language extensions for python, ruby and Go, including required modules</li>
</ul>
<blockquote>
<p>The <strong>Gopherbot</strong> IDE was developed mainly for me - the Gopherbot developer - and for lazy<sup class="footnote-reference"><a href="#lazy">1</a></sup> DevOps engineers and programmers that just want to quickly get up and running. All new development and documentation after Dec '22 will be created with the IDE, but the <strong>Gopherbot</strong> software will remain flexible enough to support a variety of workflows and development environments. This is just my effort at providing something that definitely works.</p>
</blockquote>
<div class="footnote-definition" id="lazy"><sup class="footnote-definition-label">1</sup>
<p><a href="https://thethreevirtues.com/">Laziness is a Virtue</a></p>
</div>
<h2 id="requirements"><a class="header" href="#requirements">Requirements</a></h2>
<p>To work with the <strong>Gopherbot IDE</strong>, you'll need one of:</p>
<ul>
<li>A Linux host with docker installed (note that Podman may work but is untested)</li>
<li>A MacOS host with <a href="https://www.docker.com/products/docker-desktop/">Docker Desktop</a> installled</li>
<li>A Windows host with the Windows Subsystem for Linux (WSL/WSL2) installed, and docker installed there</li>
</ul>
<blockquote>
<p>Note that the common theme here is <code>docker</code> and <code>bash</code> - the primary script for managing the Gopherbot IDE (<code>cbot.sh</code>) is written in <strong>bash</strong>.</p>
</blockquote>
<p>The Gopherbot IDE is designed for use with <strong>ssh</strong> git credentials, though it also includes the <code>gh</code> utility. It would be helpful in following the tutorials to have an ssh keypair to use for development; if you're only using the IDE for managing a single robot, this could be a special-purpose keypair that you configure as a read-write deployment key for your robot git repository. Generating and configuring read-write deployment keys is outside the scope of this manual.</p>
<h2 id="previewing-gopherbot"><a class="header" href="#previewing-gopherbot">Previewing Gopherbot</a></h2>
<p>If you're just previewing the <strong>Gopherbot</strong> software, you can just download the <code>cbot.sh</code> wrapper script and run the preview, otherwise you should skip down to <a href="#getting-started">Getting Started</a>.</p>
<ol>
<li>Download the latest <code>cbot.sh</code> wrapper script for docker:</li>
</ol>
<pre><code>curl -o cbot.sh https://raw.githubusercontent.com/lnxjedi/gopherbot/main/cbot.sh
</code></pre>
<ol start="2">
<li>Make the script executable:</li>
</ol>
<pre><code>chmod +x cbot.sh
</code></pre>
<ol start="3">
<li>Run the preview container:</li>
</ol>
<pre><code>./cbot.sh preview
</code></pre>
<ol start="4">
<li>
<p>Connect to the URL, then:</p>
<ul>
<li>open a terminal window in the home (<code>bot</code>) directory (or type <code>cd</code> to change to the home directory)</li>
<li>run <code>gopherbot</code> to start <strong>Floyd</strong>, the default robot</li>
</ul>
</li>
<li>
<p>To clean up:</p>
</li>
</ol>
<pre><code>./cbot.sh preview -r
docker image rm ghcr.io/lnxjedi/gopherbot-dev:latest
</code></pre>
<h2 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h2>
<blockquote>
<p>This section will describe setting up a simple directory called <code>botwork</code> for working with you robot(s); feel free to adjust specific paths and commands according to your preferences and comfort with the command line.</p>
</blockquote>
<p>For this walk-through, the commands you'll use, along with sample generated output, are shown in text boxes. You'll need to copy/paste (or type) the commands shown, modifying for your particular setup/robot. Also note that some of the commands shown may be wider than the text box, so you'll need to slide the scrollbar to see the full command if you're typing them yourself.</p>
<ol>
<li>In a terminal window create a new <code>botwork</code> directory, then change to that directory:</li>
</ol>
<pre><code class="language-shell">~$ mkdir botwork
~$ cd botwork/
~/botwork$
</code></pre>
<ol start="2">
<li>Download the latest <code>cbot.sh</code> script, mark it executable, then run it without any arguments for help/usage:</li>
</ol>
<pre><code class="language-shell">$ curl -o cbot.sh https://raw.githubusercontent.com/lnxjedi/gopherbot/main/cbot.sh
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  4787  100  4787    0     0  13599      0 --:--:-- --:--:-- --:--:-- 13560
~/botwork$ chmod +x cbot.sh
~/botwork$ ./cbot.sh
Usage: ./botc.sh profile|dev|start|stop|remove (options...) (arguments...)
...
</code></pre>
<ol start="3">
<li>Generate a new profile for working on your robot; in the example command shown, you'll need to change the robot name, full name and email address (used for attributing git pushes):</li>
</ol>
<pre><code class="language-shell">$ ./cbot.sh profile -k ~/.ssh/id_rsa dolores "David Parsley" parsley@linuxjedi.org | tee dolores.env
## Lines starting with #| are used by the cbot.sh script
GIT_AUTHOR_NAME="David Parsley"
GIT_AUTHOR_EMAIL=parsley@linuxjedi.org
GIT_COMMITTER_NAME="David Parsley"
GIT_COMMITTER_EMAIL=parsley@linuxjedi.org
#|CONTAINERNAME=dolores
#|SSH_KEY_PATH=/home/david/.ssh/id_rsa
</code></pre>
<blockquote>
<p>Note that the ssh-key argument is optional. OpenVSCode includes a GitHub extension that can be used for publishing to GitHub, but that workflow isn't documented here.</p>
</blockquote>
<ol start="4">
<li>Start a development container:</li>
</ol>
<pre><code class="language-shell">$ ./cbot.sh start dolores.env
Starting 'dolores-dev':
dolores
Copying /home/david/.ssh/id_rsa to dolores:/home/bot/.ssh/id_ssh ...
Access your dev environment at: http://localhost:7777/?workspace=/home/bot/gopherbot.code-workspace&amp;tkn=XXXX
</code></pre>
<ol start="5">
<li>Connect to the IDE
Copy the URL provided and paste it in to your browser; note that VSCode server operates best in a separate browser tab running full-screen.</li>
</ol>
<p>That's it! You're ready to start setting up a new robot.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../Terminology.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../Installation.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../Terminology.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../Installation.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
